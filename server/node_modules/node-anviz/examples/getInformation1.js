const Request = require("../lib/request.js");  // Path to your request.js file
const fs = require("fs");

// Replace with the correct device IP address
const DEVICE_IP = "172.16.1.16"; // Use the actual device IP address
const DEVICE_PORT = 8080; // Default port for Anviz device communication

let request = new Request(DEVICE_IP, DEVICE_PORT);  // Pass both IP and port

// Attempt to connect and get device information
request.execute("getInformation1", 1).then((res, raw) => {
    console.info("Device Info:", res);  // Log the response from the device
    console.info("Raw Response:", raw);  // Log the raw data if needed
    request.close();  // Always close the connection after the operation
}).catch((err) => {
    // Handle errors here and provide a meaningful message
    console.error("Connection error or failed to retrieve information:", err);
});
